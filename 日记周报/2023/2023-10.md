
## 10-07

1. 修改RG10问题单：
    ITS00314369，在单板侧的sdk接口只设置了GE属性的mtu，增加一个FE百兆的mtu设置；
    ITS00314370，找驱动层的命令行接口时找错文件，在ctcOamHw.c的debug打印信息上跟了一点时间，浪费时间在ros平台的代码，最后在sspPhy.c的接口中增加RG10的速率和双工获取，单板侧增加ibc消息的查询响应。


## 10-08


1. 验证RG10问题单，提交代码：
    ITS00314369，验证正常，配置jumbo 1400，打2000字节流不通；
    ITS00314370，配置强制100M，显示10M，配置1000M，显示100M，原因是平台定义的speed set和get不一致，转换后显示正常；

2. 定位RG10问题单：
    ITS00312300，插入电模块6~7秒后link灯熄灭，应该是模块协商耗时较长；
    ITS00312302，ibc从单板读sfptype是自适应电类型，与RG8的电模块互连，RG10显示100M，而RG8是千兆口，需要继续定位。

## 10-09

1. 定位RG10问题单：
    ITS00312300，插入电模块6~7秒后link灯熄灭，10/100电模块灯常亮，这个还没开始定位；
    ITS00312302，强制百兆正常下发，但是sdk命令显示link的速率仍然是1000M，不配置serdes为sgmii时接口down，按fae的反馈是强制百兆设置的是switch接电模块这一侧，而电模块对外方向需要设置电模块这一侧的速率模式。


## 10-10

1. RG10问题单：
    ITS00314370，补充修改读取速率的接口，避免自协商模式读取速率错误；  
    ITS00312300，10/100电模块灯常亮，点灯是rtk芯片点，应该与问题ITS00312302强制百兆不生效类似。

2. 分支切换导致编译环境异常，解决编译问题。



## 10-11

1. RG10问题单：
    ITS00301402，jumboframe默认值9600没有下发到rg10，在初始化地方加上就行；
    jumboframe配置在板卡上下电时没有正常恢复，而配置的强制速率正常恢复，在驱动的配置接口加打印信息，jumboframe的配置没有打印，速率配置恢复时正常打印。



## 10-12

1. RG10问题单：
    ITS00301402，jumboframe配置恢复问题，板卡掉线十分钟之后才会触发板卡删除，然后删除板卡对于的配置，所以reboot或者拔掉后立刻插上不会触发配置重新下发，类似rg10 这样单独跑应用程序的板卡需要特殊处理；（其他shutdown等接口下的配置继续看下处理逻辑）

2. 10/100电模块link灯常亮，根据los信号设置管理状态down；

3. 测试配置subvlan报错问题，驱动ifm根据条件查找l3if报错，反馈熊奥斯处理。



## 10-13

1. RG10问题单：
    10/100电模块link灯常亮，根据los信号设置管理状态down，板卡程序没有进入设置管理状态步骤，设备升级新代码后经常卡死影响定位；

2. 更新ros最新代码，设备报rnet有死锁，平台新合入代码引起，导致编译的版本无法长时间正常使用。切其他分支和回退代码编译各种报错问题解决。


## 10-16

RG10问题：
1. 10/100电模块link灯常亮，在接口状态轮询任务中根据los信号设置管理状态down，但是这样会影响快速开销，需要另外单独的任务处理这个（单速千兆和三速模块不需要）；

2. shutdown配置恢复，以及配置该命令后（1）中的电模块管理状态设置的处理；今天处理的配置恢复逻辑不合适，尽量借用原有的配置恢复逻辑，避免修改过于零散；


## 10-17

1. 熟悉设备管理中板卡的上下电处理，包括快速拔插和拔出10分钟后再插入的处理逻辑。
    设备管理的状态机没有深入梳理，主要熟悉了板卡事件处理的核心代码boardmgr_xx，验证用RG10的宏区分板卡上线的处理，在快速拔插时删除配置重新做配置恢复，不走隐藏的配置恢复。

2. shutdown可以恢复配置，但是no shutdown后show查看接口状态仍然显示down，重新shutdown再no shutdown后正常。


## 10-18

1. 验证RG10在板卡插入流程中用板卡宏区分处理逻辑，先删除保存的板卡信息，再重新根据板卡上电事件创建，然后下发配置。这样修改的代码较少，但是会导致板卡配置较多时恢复时间长。
    可以注册板卡的事件回调函数，实现板卡上线时接口配置的恢复，这样需要梳理各个配置的保存方式。

2. 解决接口配置shutdown，重启板卡后接口下直接配置no shutdown显示仍然down问题。原因是shutdown的配置恢复先下发，RG10板卡的接口快速开销轮询任务后启动，导致全局变量g_portLinkStatus和sdk的状态都是down，未能更新cpld的link信息。

3. reboot板卡偶尔会出现设备管理的板卡上下线状态机不生效，没有正常的日志打印问题，未定位到原因。



## 10-19

1. 验证RG10在注册的板卡插入事件回调函数中增加配置恢复，包括shutdown，speed，流控等接口配置，其中流控修改配置接口，保存配置在ssp本地。

2. 板卡插入流程中隐藏恢复逻辑中是plugin_recover，用RG10的设备宏区分使走plugin_delete流程时，接口shutdown命令可以恢复，但是直接no shutdown时板卡侧的cpld快速开销地址没有跳变，导致主控侧仍然显示down，所以配置恢复还是采用1的方法；


## 10-20

1. RG10板卡启动时，在shutdown之前没有看到有接口up（轮询任务中日志没有打印），但是主控侧有该接口的中断，上报状态为up，还没找到原因。



