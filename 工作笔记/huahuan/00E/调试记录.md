
1、vcg绑定冲突检查

（1）配置 vc12 业务时，检测 e1 占用的 vc4 是否发生变化，配置的 vc12 业务占用的 vc4 应该要跟 e1 一致。如果占用的 vc4 不一致，报错
（2）配置 vc4 业务时，检测是否和 e1 占用的 vc4 冲突，如果与 e1 占用的 vc4 一致，报错
（3）配置 eos 监控通道，检测和 e1 占用的 vc4 和 vc12（该 vc4 的前四个 vc12） 是否冲突，冲突报错
（4）修改 e1 占用的 vc4 时，检查该 vc4 是否已经占用；另外，如果监控通道使能，检测 eos 监控通道占用的 vc4 是否和本次 e1 将要占用的 vc4 一致，不一致报错；如果监控通道未使能，不用检测


2、tupp更新

只配一种业务 vc4 或者 vc12 时 tupp 可以写死，但是 00E 支持 vc4 和 vc12 两种业务同时配置，所以 tupp 需要动态刷新，告警（`lp_rd_get_stm()`）会用到这个


3、冲突和sncp保护

如果 e1 的占用设置和查询，以及sncp保护都放在以太网盘这边，检查方便，但是vcg 都是在以太网盘下发绑定，所以在以太网盘的配置中无法区分下发的是 vc12 业务，还是 e1 的业务，这样没法做冲突检查。

如果 e1 的占用设置和查询，以及sncp保护按盘类型放在 new 出来的新板卡上，sncp保护不太方便，vc12 和 e1 业务的保护有冲突，需要检查前四个 vc12 的 e1 占用情况。


---
E1占用、VC12绑定占用、EoS监控通道占用，用一个变量 g

配置vc12绑定
    检测g是否未占用，如果占用和当前绑定是否相同
    更新g
    检测成功，更新对应全局变量

配置e1占用
    检测g是否占用，如果占用是否相同

配置eos监控通道
    检测g是否占用，如果占用是否相同



配置的时候可以用一个全局变量 g 来检查是否冲突，但是删的时候怎么处理？
1、e1 和监控通道都配了，这个时候disable监控通道，那么全局变量 g 怎么置位？配置的时候 g++ 递增，删除的时候 g-- 递减，最后检查是否为 0？
    这样的话，vc12配置和删除绑定时变量 g 的检查处理比较繁琐
2、


上电时，更新保存的配置，先更新vcg绑定的
根据vcg绑定就可以重新更新上面的变量g











